
<!doctype html>
<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.1">
    
    
      
        <title>database_handler.py - oc_chess_club</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.9299cb39.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#009485">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../css/termynal.css">
    
      <link rel="stylesheet" href="../../../css/custom.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="deep-orange">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#controller.database_handler" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="oc_chess_club" class="md-header__button md-logo" aria-label="oc_chess_club" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M74 208H64a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h15.94A535.78 535.78 0 0 1 64 384h128a535.78 535.78 0 0 1-15.94-128H192a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-10l33.89-90.38a16 16 0 0 0-15-21.62H144V64h24a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8h-24V8a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v24H88a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h24v32H55.09a16 16 0 0 0-15 21.62zm173.16 251.58L224 448v-16a16 16 0 0 0-16-16H48a16 16 0 0 0-16 16v16L8.85 459.58A16 16 0 0 0 0 473.89V496a16 16 0 0 0 16 16h224a16 16 0 0 0 16-16v-22.11a16 16 0 0 0-8.84-14.31zm92.77-157.78-3.29 82.2h126.72l-3.29-82.21 24.6-20.79A32 32 0 0 0 496 256.54V198a6 6 0 0 0-6-6h-26.38a6 6 0 0 0-6 6v26h-24.71v-26a6 6 0 0 0-6-6H373.1a6 6 0 0 0-6 6v26h-24.71v-26a6 6 0 0 0-6-6H310a6 6 0 0 0-6 6v58.6a32 32 0 0 0 11.36 24.4zM384 304a16 16 0 0 1 32 0v32h-32zm119.16 155.58L480 448v-16a16 16 0 0 0-16-16H336a16 16 0 0 0-16 16v16l-23.15 11.58a16 16 0 0 0-8.85 14.31V496a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-22.11a16 16 0 0 0-8.84-14.31z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            oc_chess_club
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              database_handler.py
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/pablolec/oc_chess_club/" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    PabloLec/oc_chess_club
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="oc_chess_club" class="md-nav__button md-logo" aria-label="oc_chess_club" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M74 208H64a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h15.94A535.78 535.78 0 0 1 64 384h128a535.78 535.78 0 0 1-15.94-128H192a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-10l33.89-90.38a16 16 0 0 0-15-21.62H144V64h24a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8h-24V8a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v24H88a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h24v32H55.09a16 16 0 0 0-15 21.62zm173.16 251.58L224 448v-16a16 16 0 0 0-16-16H48a16 16 0 0 0-16 16v16L8.85 459.58A16 16 0 0 0 0 473.89V496a16 16 0 0 0 16 16h224a16 16 0 0 0 16-16v-22.11a16 16 0 0 0-8.84-14.31zm92.77-157.78-3.29 82.2h126.72l-3.29-82.21 24.6-20.79A32 32 0 0 0 496 256.54V198a6 6 0 0 0-6-6h-26.38a6 6 0 0 0-6 6v26h-24.71v-26a6 6 0 0 0-6-6H373.1a6 6 0 0 0-6 6v26h-24.71v-26a6 6 0 0 0-6-6H310a6 6 0 0 0-6 6v58.6a32 32 0 0 0 11.36 24.4zM384 304a16 16 0 0 1 32 0v32h-32zm119.16 155.58L480 448v-16a16 16 0 0 0-16-16H336a16 16 0 0 0-16 16v16l-23.15 11.58a16 16 0 0 0-8.85 14.31V496a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-22.11a16 16 0 0 0-8.84-14.31z"/></svg>

    </a>
    oc_chess_club
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/pablolec/oc_chess_club/" title="Aller au dépôt" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg>
  </div>
  <div class="md-source__repository">
    PabloLec/oc_chess_club
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Présentation
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorial/" class="md-nav__link">
        Tutoriel
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      <label class="md-nav__link" for="__nav_3">
        Code Reference
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Code Reference" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Code Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_1" type="checkbox" id="__nav_3_1" >
      
      <label class="md-nav__link" for="__nav_3_1">
        Models
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Models" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Models
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../models/database/" class="md-nav__link">
        database.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../models/match/" class="md-nav__link">
        match.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../models/player/" class="md-nav__link">
        player.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../models/round/" class="md-nav__link">
        round.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../models/tournament/" class="md-nav__link">
        tournament.py
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" >
      
      <label class="md-nav__link" for="__nav_3_2">
        Views
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Views" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Views
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../views/game/" class="md-nav__link">
        game.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../views/helper/" class="md-nav__link">
        helper.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../views/main_menu/" class="md-nav__link">
        main_menu.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../views/player_views/" class="md-nav__link">
        player_views.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../views/report_views/" class="md-nav__link">
        report_views.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../views/tournament_views/" class="md-nav__link">
        tournament_views.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../views/typer_app/" class="md-nav__link">
        typer_app.py
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
            
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" checked>
      
      <label class="md-nav__link" for="__nav_3_3">
        Controller
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Controller" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Controller
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../config_loader/" class="md-nav__link">
        config_loader.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../database_helper/" class="md-nav__link">
        database_helper.py
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          database_handler.py
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        database_handler.py
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#controller.database_handler" class="md-nav__link">
    controller.database_handler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler" class="md-nav__link">
    DatabaseHandler
  </a>
  
    <nav class="md-nav" aria-label="DatabaseHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.create_match" class="md-nav__link">
    create_match()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.create_player" class="md-nav__link">
    create_player()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.create_round" class="md-nav__link">
    create_round()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.create_tournament" class="md-nav__link">
    create_tournament()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.delete_match" class="md-nav__link">
    delete_match()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.delete_player" class="md-nav__link">
    delete_player()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.delete_round" class="md-nav__link">
    delete_round()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.delete_tournament" class="md-nav__link">
    delete_tournament()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.find_next_id" class="md-nav__link">
    find_next_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.find_unfinished_tournaments" class="md-nav__link">
    find_unfinished_tournaments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.load_database" class="md-nav__link">
    load_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.load_matches" class="md-nav__link">
    load_matches()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.load_players" class="md-nav__link">
    load_players()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.load_rounds" class="md-nav__link">
    load_rounds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.load_tournaments" class="md-nav__link">
    load_tournaments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.save_match" class="md-nav__link">
    save_match()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.save_player" class="md-nav__link">
    save_player()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.save_round" class="md-nav__link">
    save_round()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.save_tournament" class="md-nav__link">
    save_tournament()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.update_leaderboard" class="md-nav__link">
    update_leaderboard()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller.database_handler.SingletonMeta" class="md-nav__link">
    SingletonMeta
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../report_handler/" class="md-nav__link">
        report_handler.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tournament_generator/" class="md-nav__link">
        tournament_generator.py
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../tournament_handler/" class="md-nav__link">
        tournament_handler.py
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#controller.database_handler" class="md-nav__link">
    controller.database_handler
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler" class="md-nav__link">
    DatabaseHandler
  </a>
  
    <nav class="md-nav" aria-label="DatabaseHandler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.__init__" class="md-nav__link">
    __init__()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.create_match" class="md-nav__link">
    create_match()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.create_player" class="md-nav__link">
    create_player()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.create_round" class="md-nav__link">
    create_round()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.create_tournament" class="md-nav__link">
    create_tournament()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.delete_match" class="md-nav__link">
    delete_match()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.delete_player" class="md-nav__link">
    delete_player()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.delete_round" class="md-nav__link">
    delete_round()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.delete_tournament" class="md-nav__link">
    delete_tournament()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.find_next_id" class="md-nav__link">
    find_next_id()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.find_unfinished_tournaments" class="md-nav__link">
    find_unfinished_tournaments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.load_database" class="md-nav__link">
    load_database()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.load_matches" class="md-nav__link">
    load_matches()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.load_players" class="md-nav__link">
    load_players()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.load_rounds" class="md-nav__link">
    load_rounds()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.load_tournaments" class="md-nav__link">
    load_tournaments()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.save_match" class="md-nav__link">
    save_match()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.save_player" class="md-nav__link">
    save_player()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.save_round" class="md-nav__link">
    save_round()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.save_tournament" class="md-nav__link">
    save_tournament()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#controller.database_handler.DatabaseHandler.update_leaderboard" class="md-nav__link">
    update_leaderboard()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller.database_handler.SingletonMeta" class="md-nav__link">
    SingletonMeta
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/pablolec/oc_chess_club/edit/master/oc_chess_club/controller/database_handler.py" title="Editer cette page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  <h1>database_handler.py</h1>
                
                <div class="doc doc-object doc-module">

<a id="controller.database_handler"></a>
    <div class="doc doc-contents first">




  <div class="doc doc-children">







  <div class="doc doc-object doc-class">



<h2 id="controller.database_handler.DatabaseHandler" class="doc doc-heading">
        <code>DatabaseHandler</code>



<a href="#controller.database_handler.DatabaseHandler" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Handles all operations related to the database including CRUD for the different db elements.</p>

<p><strong>Attributes:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>database</code></td>
        <td><code>Database</code></td>
        <td><p>Object encapsulating the database in TinyDB format and usable tournament related objects.</p></td>
      </tr>
      <tr>
        <td><code>helper</code></td>
        <td><code>DatabaseHelper</code></td>
        <td><p>Object with helper methods to manipulate and transform db objects.</p></td>
      </tr>
      <tr>
        <td><code>players_table</code></td>
        <td><code>table.Table</code></td>
        <td><p>Instance of TinyDB "Players" Table.</p></td>
      </tr>
      <tr>
        <td><code>tournaments_table</code></td>
        <td><code>table.Table</code></td>
        <td><p>Instance of TinyDB "Tournaments" Table.</p></td>
      </tr>
      <tr>
        <td><code>rounds_table</code></td>
        <td><code>table.Table</code></td>
        <td><p>Instance of TinyDB "Rounds" Table.</p></td>
      </tr>
      <tr>
        <td><code>matches_table</code></td>
        <td><code>table.Table</code></td>
        <td><p>Instance of TinyDB "Matches" Table.</p></td>
      </tr>
  </tbody>
</table>



  <div class="doc doc-children">









  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.__init__" class="doc doc-heading">
<code class="codehilite language-python"><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>

  <span class="doc doc-properties">
      <small class="doc doc-property doc-property-special"><code>special</code></small>
  </span>

<a href="#controller.database_handler.DatabaseHandler.__init__" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Constructor for DatabaseHandler Class. Initiates database loading.</p>

        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Constructor for DatabaseHandler Class. Initiates database loading.&quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="o">=</span> <span class="n">Database</span><span class="p">(</span><span class="n">_CONFIG</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s2">&quot;database_file&quot;</span><span class="p">])</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">helper</span> <span class="o">=</span> <span class="n">DatabaseHelper</span><span class="p">(</span><span class="n">database</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">players_table</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tournaments_table</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rounds_table</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matches_table</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">load_database</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.create_match" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">create_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">players</span><span class="p">,</span> <span class="n">tournament_id</span><span class="p">,</span> <span class="n">round_id</span><span class="p">,</span> <span class="n">winner</span><span class="p">,</span> <span class="n">id_num</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.create_match" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates a Match object and saves it into Database attributes.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>players</code></td>
        <td><code>tuple</code></td>
        <td><p>Tuple of the two facing players.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>tournament_id</code></td>
        <td><code>int</code></td>
        <td><p>Match's tournament id.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>round_id</code></td>
        <td><code>int</code></td>
        <td><p>Match's round id..</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>winner</code></td>
        <td><code>int</code></td>
        <td><p>Match's winner. Either 1 (first player), 2 (second player) or 0 (draw).</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>id_num</code></td>
        <td><code>int</code></td>
        <td><p>Match's id. Defaults to 0.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>no_db_save</code></td>
        <td><code>bool</code></td>
        <td><p>If the object only needs to be saved in memory, not in db. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">create_match</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span> <span class="n">players</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">,</span> <span class="n">tournament_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">round_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">winner</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">id_num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">no_db_save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a Match object and saves it into Database attributes.</span>

<span class="sd">    Args:</span>
<span class="sd">        players (tuple): Tuple of the two facing players.</span>
<span class="sd">        tournament_id (int): Match&#39;s tournament id.</span>
<span class="sd">        round_id (int): Match&#39;s round id..</span>

<span class="sd">        winner (int): Match&#39;s winner. Either 1 (first player), 2 (second player) or 0 (draw).</span>
<span class="sd">        id_num (int, optional): Match&#39;s id. Defaults to 0.</span>
<span class="sd">        no_db_save (bool, optional): If the object only needs to be saved in memory, not in db. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">id_num</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">id_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_next_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">matches_table</span><span class="p">)</span>

    <span class="n">match</span> <span class="o">=</span> <span class="n">Match</span><span class="p">(</span>
        <span class="n">players</span><span class="o">=</span><span class="n">players</span><span class="p">,</span>
        <span class="n">tournament_id</span><span class="o">=</span><span class="n">tournament_id</span><span class="p">,</span>
        <span class="n">round_id</span><span class="o">=</span><span class="n">round_id</span><span class="p">,</span>
        <span class="n">winner</span><span class="o">=</span><span class="n">winner</span><span class="p">,</span>
        <span class="n">id_num</span><span class="o">=</span><span class="n">id_num</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">save_match</span><span class="p">(</span><span class="n">match</span><span class="o">=</span><span class="n">match</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="n">no_db_save</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.create_player" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">create_player</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">first_name</span><span class="p">,</span> <span class="n">last_name</span><span class="p">,</span> <span class="n">dob</span><span class="p">,</span> <span class="n">gender</span><span class="p">,</span> <span class="n">elo</span><span class="p">,</span> <span class="n">id_num</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">is_deleted</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.create_player" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates a Player object and saves it into Database attributes.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>first_name</code></td>
        <td><code>str</code></td>
        <td><p>Player's first name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>last_name</code></td>
        <td><code>str</code></td>
        <td><p>Player's last name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>dob</code></td>
        <td><code>str</code></td>
        <td><p>Player's date of birth.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>gender</code></td>
        <td><code>str</code></td>
        <td><p>Player's gender.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>elo</code></td>
        <td><code>int</code></td>
        <td><p>Player's ELO ranking.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>id_num</code></td>
        <td><code>int</code></td>
        <td><p>Player's id. Defaults to 0.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>is_deleted</code></td>
        <td><code>bool</code></td>
        <td><p>Is player deleted. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>no_db_save</code></td>
        <td><code>bool</code></td>
        <td><p>If the object only needs to be saved in memory, not in db. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>Created player's id.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">create_player</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">first_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">last_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">dob</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">gender</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">elo</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">id_num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">is_deleted</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">no_db_save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a Player object and saves it into Database attributes.</span>

<span class="sd">    Args:</span>
<span class="sd">        first_name (str): Player&#39;s first name.</span>
<span class="sd">        last_name (str): Player&#39;s last name.</span>
<span class="sd">        dob (str): Player&#39;s date of birth.</span>
<span class="sd">        gender (str): Player&#39;s gender.</span>
<span class="sd">        elo (int): Player&#39;s ELO ranking.</span>
<span class="sd">        id_num (int, optional): Player&#39;s id. Defaults to 0.</span>
<span class="sd">        is_deleted (bool, optional): Is player deleted. Defaults to False.</span>
<span class="sd">        no_db_save (bool, optional): If the object only needs to be saved in memory, not in db. Defaults to False.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: Created player&#39;s id.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">id_num</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">id_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_next_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">players_table</span><span class="p">)</span>

    <span class="n">player</span> <span class="o">=</span> <span class="n">Player</span><span class="p">(</span><span class="n">first_name</span><span class="p">,</span> <span class="n">last_name</span><span class="p">,</span> <span class="n">dob</span><span class="p">,</span> <span class="n">gender</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span> <span class="n">elo</span><span class="p">,</span> <span class="n">id_num</span><span class="p">,</span> <span class="n">is_deleted</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">save_player</span><span class="p">(</span><span class="n">player</span><span class="o">=</span><span class="n">player</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="n">no_db_save</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">id_num</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.create_round" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">create_round</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">round_number</span><span class="p">,</span> <span class="n">tournament_id</span><span class="p">,</span> <span class="n">id_num</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.create_round" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates a Round object and saves it into Database attributes.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>round_number</code></td>
        <td><code>int</code></td>
        <td><p>Ordered round number.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>tournament_id</code></td>
        <td><code>int</code></td>
        <td><p>Round's tournament id.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>id_num</code></td>
        <td><code>int</code></td>
        <td><p>Round id. Defaults to 0.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>no_db_save</code></td>
        <td><code>bool</code></td>
        <td><p>If the object only needs to be saved in memory, not in db. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>Created round id.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">create_round</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">round_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">tournament_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">id_num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">no_db_save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a Round object and saves it into Database attributes.</span>

<span class="sd">    Args:</span>
<span class="sd">        round_number (int): Ordered round number.</span>
<span class="sd">        tournament_id (int): Round&#39;s tournament id.</span>
<span class="sd">        id_num (int, optional): Round id. Defaults to 0.</span>
<span class="sd">        no_db_save (bool, optional): If the object only needs to be saved in memory, not in db. Defaults to False.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: Created round id.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">id_num</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">id_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_next_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rounds_table</span><span class="p">)</span>

    <span class="n">created_round</span> <span class="o">=</span> <span class="n">Round</span><span class="p">(</span><span class="n">round_number</span><span class="o">=</span><span class="n">round_number</span><span class="p">,</span> <span class="n">tournament_id</span><span class="o">=</span><span class="n">tournament_id</span><span class="p">,</span> <span class="n">id_num</span><span class="o">=</span><span class="n">id_num</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">save_round</span><span class="p">(</span><span class="n">round_</span><span class="o">=</span><span class="n">created_round</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="n">no_db_save</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">id_num</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.create_tournament" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">create_tournament</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">location</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">number_of_rounds</span><span class="p">,</span> <span class="n">time_control</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">players</span><span class="p">,</span> <span class="n">leaderboard</span><span class="p">,</span> <span class="n">id_num</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">is_finished</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.create_tournament" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Creates a Tournament object and saves it into Database attributes.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>name</code></td>
        <td><code>str</code></td>
        <td><p>Tournament's name.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>location</code></td>
        <td><code>str</code></td>
        <td><p>Tournament's physical location.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>date</code></td>
        <td><code>str</code></td>
        <td><p>Tournament's date.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>number_of_rounds</code></td>
        <td><code>int</code></td>
        <td><p>Number of rounds to be played.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>time_control</code></td>
        <td><code>str</code></td>
        <td><p>Type of time control chosen.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>description</code></td>
        <td><code>str</code></td>
        <td><p>Tournament's description.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>players</code></td>
        <td><code>list</code></td>
        <td><p>Participating players ids.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>leaderboard</code></td>
        <td><code>dict</code></td>
        <td><p>Tournament's leaderboard.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>id_num</code></td>
        <td><code>int</code></td>
        <td><p>Tournament's id. Defaults to 0.</p></td>
        <td><code>0</code></td>
      </tr>
      <tr>
        <td><code>is_finished</code></td>
        <td><code>bool</code></td>
        <td><p>Is tournament finished. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
      <tr>
        <td><code>no_db_save</code></td>
        <td><code>bool</code></td>
        <td><p>If the object only needs to be saved in memory, not in db. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>Created tournament's id.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">create_tournament</span><span class="p">(</span>
    <span class="bp">self</span><span class="p">,</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">location</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">date</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">number_of_rounds</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
    <span class="n">time_control</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">players</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
    <span class="n">leaderboard</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
    <span class="n">id_num</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="n">is_finished</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="n">no_db_save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Creates a Tournament object and saves it into Database attributes.</span>

<span class="sd">    Args:</span>
<span class="sd">        name (str): Tournament&#39;s name.</span>
<span class="sd">        location (str): Tournament&#39;s physical location.</span>
<span class="sd">        date (str): Tournament&#39;s date.</span>
<span class="sd">        number_of_rounds (int): Number of rounds to be played.</span>
<span class="sd">        time_control (str): Type of time control chosen.</span>
<span class="sd">        description (str): Tournament&#39;s description.</span>
<span class="sd">        players (list[int]): Participating players ids.</span>
<span class="sd">        leaderboard (dict): Tournament&#39;s leaderboard.</span>
<span class="sd">        id_num (int, optional): Tournament&#39;s id. Defaults to 0.</span>
<span class="sd">        is_finished (bool, optional): Is tournament finished. Defaults to False.</span>
<span class="sd">        no_db_save (bool, optional): If the object only needs to be saved in memory, not in db. Defaults to False.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: Created tournament&#39;s id.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="n">id_num</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">id_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_next_id</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tournaments_table</span><span class="p">)</span>

    <span class="c1"># Create required list of Player objects from players ids.</span>
    <span class="n">player_objects</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">players</span><span class="p">:</span>
        <span class="n">player_objects</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">players</span><span class="p">[</span><span class="n">player</span><span class="p">])</span>

    <span class="c1"># Create an empty leaderboard if it doesn&#39;t exist yet.</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">leaderboard</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">players</span><span class="p">:</span>
            <span class="n">leaderboard</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">player</span><span class="p">)]</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="n">tournament</span> <span class="o">=</span> <span class="n">Tournament</span><span class="p">(</span>
        <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">,</span>
        <span class="n">location</span><span class="o">=</span><span class="n">location</span><span class="p">,</span>
        <span class="n">date</span><span class="o">=</span><span class="n">date</span><span class="p">,</span>
        <span class="n">number_of_rounds</span><span class="o">=</span><span class="n">number_of_rounds</span><span class="p">,</span>
        <span class="n">time_control</span><span class="o">=</span><span class="n">time_control</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
        <span class="n">id_num</span><span class="o">=</span><span class="n">id_num</span><span class="p">,</span>
        <span class="n">is_finished</span><span class="o">=</span><span class="n">is_finished</span><span class="p">,</span>
        <span class="n">players</span><span class="o">=</span><span class="n">player_objects</span><span class="p">,</span>
        <span class="n">leaderboard</span><span class="o">=</span><span class="n">leaderboard</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">save_tournament</span><span class="p">(</span><span class="n">tournament</span><span class="o">=</span><span class="n">tournament</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="n">no_db_save</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">id_num</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.delete_match" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">delete_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">match</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.delete_match" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Deletes a match in database.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>match</code></td>
        <td><code>Match</code></td>
        <td><p>Match to be deleted.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">match</span><span class="p">:</span> <span class="n">Match</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Deletes a match in database.</span>

<span class="sd">    Args:</span>
<span class="sd">        match (Match): Match to be deleted.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matches_table</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">id_num</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.delete_player" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">delete_player</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.delete_player" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Delete a player by setting a flag. User must persist in database for tournament history.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>player</code></td>
        <td><code>Player</code></td>
        <td><p>Player to be deleted.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_player</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">:</span> <span class="n">Player</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Delete a player by setting a flag. User must persist in database for tournament history.</span>

<span class="sd">    Args:</span>
<span class="sd">        player (Player): Player to be deleted.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">player</span><span class="o">.</span><span class="n">is_deleted</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">save_player</span><span class="p">(</span><span class="n">player</span><span class="o">=</span><span class="n">player</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.delete_round" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">delete_round</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">round_</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.delete_round" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Deletes a round in database.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>round_</code></td>
        <td><code>Round</code></td>
        <td><p>Round to be deleted.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_round</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">round_</span><span class="p">:</span> <span class="n">Round</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Deletes a round in database.</span>

<span class="sd">    Args:</span>
<span class="sd">        round_ (Round): Round to be deleted.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="n">round_</span><span class="o">.</span><span class="n">matches</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete_match</span><span class="p">(</span><span class="n">match</span><span class="o">=</span><span class="n">round_</span><span class="o">.</span><span class="n">matches</span><span class="p">[</span><span class="n">match</span><span class="p">])</span>

    <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rounds_table</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">round_</span><span class="o">.</span><span class="n">id_num</span><span class="p">))</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.delete_tournament" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">delete_tournament</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tournament</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.delete_tournament" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Deletes a tournament in database.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tournament</code></td>
        <td><code>Tournament</code></td>
        <td><p>Tournament to be deleted</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">delete_tournament</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tournament</span><span class="p">:</span> <span class="n">Tournament</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Deletes a tournament in database.</span>

<span class="sd">    Args:</span>
<span class="sd">        tournament (Tournament): Tournament to be deleted</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">load_rounds</span><span class="p">(</span><span class="n">tournament_id</span><span class="o">=</span><span class="n">tournament</span><span class="o">.</span><span class="n">id_num</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">load_matches</span><span class="p">(</span><span class="n">tournament_id</span><span class="o">=</span><span class="n">tournament</span><span class="o">.</span><span class="n">id_num</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">round_</span> <span class="ow">in</span> <span class="n">tournament</span><span class="o">.</span><span class="n">rounds</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">delete_round</span><span class="p">(</span><span class="n">round_</span><span class="o">=</span><span class="n">tournament</span><span class="o">.</span><span class="n">rounds</span><span class="p">[</span><span class="n">round_</span><span class="p">])</span>

    <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tournaments_table</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">tournament</span><span class="o">.</span><span class="n">id_num</span><span class="p">))</span>

    <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">tournaments</span><span class="p">[</span><span class="nb">int</span><span class="p">(</span><span class="n">tournament</span><span class="o">.</span><span class="n">id_num</span><span class="p">)]</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.find_next_id" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">find_next_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.find_next_id" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Searches through a TinyDB table for the next biggest id number.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>table</code></td>
        <td><code>Table</code></td>
        <td><p>TinyDB table to search in.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>int</code></td>
      <td><p>Next biggest id to be used.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">find_next_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">table</span><span class="p">:</span> <span class="n">table</span><span class="o">.</span><span class="n">Table</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Searches through a TinyDB table for the next biggest id number.</span>

<span class="sd">    Args:</span>
<span class="sd">        table (table.Table): TinyDB table to search in.</span>

<span class="sd">    Returns:</span>
<span class="sd">        int: Next biggest id to be used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">table</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">1</span>

    <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">()</span>

    <span class="n">biggest</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="o">.</span><span class="n">id</span> <span class="o">&gt;=</span> <span class="n">biggest</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">biggest</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">biggest</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.find_unfinished_tournaments" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">find_unfinished_tournaments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.find_unfinished_tournaments" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Searches through the Tournaments table for unfinished tournament.</p>

<p><strong>Returns:</strong></p>
<table>
  <thead>
    <tr>
      <th>Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>list[table.Document]</code></td>
      <td><p>Unfinished tournaments.</p></td>
    </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">find_unfinished_tournaments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Searches through the Tournaments table for unfinished tournament.</span>

<span class="sd">    Returns:</span>
<span class="sd">        list[table.Document]: Unfinished tournaments.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">()</span>

    <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">tournaments_table</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">query</span><span class="p">[</span><span class="s2">&quot;Is Finished&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="kc">False</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">result</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.load_database" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">load_database</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.load_database" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Instantiates the different tables in attributes and loads their content by creating corresponding objects.</p>

        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">load_database</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Instantiates the different tables in attributes and loads their content by creating corresponding objects.&quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">players_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="s2">&quot;players&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">tournaments_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="s2">&quot;tournaments&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">rounds_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="s2">&quot;rounds&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">matches_table</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">db</span><span class="o">.</span><span class="n">table</span><span class="p">(</span><span class="s2">&quot;matches&quot;</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">load_players</span><span class="p">()</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">load_tournaments</span><span class="p">()</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.load_matches" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">load_matches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tournament_id</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.load_matches" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Uses TinyDB "Matches" table to create Match objects for one particular tournament.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tournament_id</code></td>
        <td><code>int</code></td>
        <td><p>Tournament to be considered.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">load_matches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tournament_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Uses TinyDB &quot;Matches&quot; table to create Match objects for one particular tournament.</span>

<span class="sd">    Args:</span>
<span class="sd">        tournament_id (int): Tournament to be considered.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">match</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">matches_table</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">match</span><span class="p">[</span><span class="s2">&quot;Tournament id&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">tournament_id</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="n">player_1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">players</span><span class="p">[</span><span class="n">match</span><span class="p">[</span><span class="s2">&quot;Player 1&quot;</span><span class="p">]]</span>
        <span class="n">player_2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">players</span><span class="p">[</span><span class="n">match</span><span class="p">[</span><span class="s2">&quot;Player 2&quot;</span><span class="p">]]</span>

        <span class="n">players</span> <span class="o">=</span> <span class="p">(</span><span class="n">player_1</span><span class="p">,</span> <span class="n">player_2</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_match</span><span class="p">(</span>
            <span class="n">players</span><span class="o">=</span><span class="n">players</span><span class="p">,</span>
            <span class="n">tournament_id</span><span class="o">=</span><span class="n">match</span><span class="p">[</span><span class="s2">&quot;Tournament id&quot;</span><span class="p">],</span>
            <span class="n">round_id</span><span class="o">=</span><span class="n">match</span><span class="p">[</span><span class="s2">&quot;Round id&quot;</span><span class="p">],</span>
            <span class="n">winner</span><span class="o">=</span><span class="n">match</span><span class="p">[</span><span class="s2">&quot;Winner&quot;</span><span class="p">],</span>
            <span class="n">id_num</span><span class="o">=</span><span class="n">match</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
            <span class="n">no_db_save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.load_players" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">load_players</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.load_players" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Uses TinyDB "Players" table to create Player objects.</p>

        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">load_players</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Uses TinyDB &quot;Players&quot; table to create Player objects.&quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">players_table</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_player</span><span class="p">(</span>
            <span class="n">first_name</span><span class="o">=</span><span class="n">player</span><span class="p">[</span><span class="s2">&quot;First Name&quot;</span><span class="p">],</span>
            <span class="n">last_name</span><span class="o">=</span><span class="n">player</span><span class="p">[</span><span class="s2">&quot;Last Name&quot;</span><span class="p">],</span>
            <span class="n">dob</span><span class="o">=</span><span class="n">player</span><span class="p">[</span><span class="s2">&quot;DOB&quot;</span><span class="p">],</span>
            <span class="n">gender</span><span class="o">=</span><span class="n">player</span><span class="p">[</span><span class="s2">&quot;Gender&quot;</span><span class="p">],</span>
            <span class="n">elo</span><span class="o">=</span><span class="n">player</span><span class="p">[</span><span class="s2">&quot;ELO&quot;</span><span class="p">],</span>
            <span class="n">id_num</span><span class="o">=</span><span class="n">player</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
            <span class="n">is_deleted</span><span class="o">=</span><span class="n">player</span><span class="p">[</span><span class="s2">&quot;Is Deleted&quot;</span><span class="p">],</span>
            <span class="n">no_db_save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.load_rounds" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">load_rounds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tournament_id</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.load_rounds" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Uses TinyDB "Rounds" table to create Round objects for one particular tournament.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tournament_id</code></td>
        <td><code>int</code></td>
        <td><p>Tournament to be considered.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">load_rounds</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tournament_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Uses TinyDB &quot;Rounds&quot; table to create Round objects for one particular tournament.</span>

<span class="sd">    Args:</span>
<span class="sd">        tournament_id (int): Tournament to be considered.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">round_</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rounds_table</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">round_</span><span class="p">[</span><span class="s2">&quot;Tournament id&quot;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">tournament_id</span><span class="p">:</span>
            <span class="k">continue</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">create_round</span><span class="p">(</span>
            <span class="n">round_number</span><span class="o">=</span><span class="n">round_</span><span class="p">[</span><span class="s2">&quot;Round number&quot;</span><span class="p">],</span>
            <span class="n">tournament_id</span><span class="o">=</span><span class="n">round_</span><span class="p">[</span><span class="s2">&quot;Tournament id&quot;</span><span class="p">],</span>
            <span class="n">id_num</span><span class="o">=</span><span class="n">round_</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
            <span class="n">no_db_save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.load_tournaments" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">load_tournaments</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.load_tournaments" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Uses TinyDB "Tournaments" table to create Player objects.</p>

        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">load_tournaments</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Uses TinyDB &quot;Tournaments&quot; table to create Player objects.&quot;&quot;&quot;</span>

    <span class="k">for</span> <span class="n">tournament</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">tournaments_table</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">create_tournament</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="n">tournament</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">],</span>
            <span class="n">location</span><span class="o">=</span><span class="n">tournament</span><span class="p">[</span><span class="s2">&quot;Location&quot;</span><span class="p">],</span>
            <span class="n">date</span><span class="o">=</span><span class="n">tournament</span><span class="p">[</span><span class="s2">&quot;Date&quot;</span><span class="p">],</span>
            <span class="n">number_of_rounds</span><span class="o">=</span><span class="n">tournament</span><span class="p">[</span><span class="s2">&quot;Number of rounds&quot;</span><span class="p">],</span>
            <span class="n">time_control</span><span class="o">=</span><span class="n">tournament</span><span class="p">[</span><span class="s2">&quot;Time Control&quot;</span><span class="p">],</span>
            <span class="n">description</span><span class="o">=</span><span class="n">tournament</span><span class="p">[</span><span class="s2">&quot;Description&quot;</span><span class="p">],</span>
            <span class="n">id_num</span><span class="o">=</span><span class="n">tournament</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">],</span>
            <span class="n">is_finished</span><span class="o">=</span><span class="n">tournament</span><span class="p">[</span><span class="s2">&quot;Is Finished&quot;</span><span class="p">],</span>
            <span class="n">players</span><span class="o">=</span><span class="n">tournament</span><span class="p">[</span><span class="s2">&quot;Players&quot;</span><span class="p">],</span>
            <span class="n">leaderboard</span><span class="o">=</span><span class="n">tournament</span><span class="p">[</span><span class="s2">&quot;Leaderboard&quot;</span><span class="p">],</span>
            <span class="n">no_db_save</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.save_match" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">save_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">match</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.save_match" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Saves a Match object to memory and TinyDB.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>match</code></td>
        <td><code>Match</code></td>
        <td><p>Match object to be saved.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>no_db_save</code></td>
        <td><code>bool</code></td>
        <td><p>If the object only needs to be saved in memory, not in db. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">save_match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">match</span><span class="p">:</span> <span class="n">Match</span><span class="p">,</span> <span class="n">no_db_save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Saves a Match object to memory and TinyDB.</span>

<span class="sd">    Args:</span>
<span class="sd">        match (Match): Match object to be saved.</span>
<span class="sd">        no_db_save (bool, optional): If the object only needs to be saved in memory, not in db. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">tournaments</span><span class="p">[</span><span class="n">match</span><span class="o">.</span><span class="n">tournament_id</span><span class="p">]</span><span class="o">.</span><span class="n">rounds</span><span class="p">[</span><span class="n">match</span><span class="o">.</span><span class="n">round_id</span><span class="p">]</span><span class="o">.</span><span class="n">matches</span><span class="p">[</span><span class="n">match</span><span class="o">.</span><span class="n">id_num</span><span class="p">]</span> <span class="o">=</span> <span class="n">match</span>

    <span class="k">if</span> <span class="n">no_db_save</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">matches_table</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;Player 1&quot;</span><span class="p">:</span> <span class="n">match</span><span class="o">.</span><span class="n">player_1</span><span class="o">.</span><span class="n">id_num</span><span class="p">,</span>
            <span class="s2">&quot;Player 2&quot;</span><span class="p">:</span> <span class="n">match</span><span class="o">.</span><span class="n">player_2</span><span class="o">.</span><span class="n">id_num</span><span class="p">,</span>
            <span class="s2">&quot;Winner&quot;</span><span class="p">:</span> <span class="n">match</span><span class="o">.</span><span class="n">winner</span><span class="p">,</span>
            <span class="s2">&quot;Tournament id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">tournament_id</span><span class="p">),</span>
            <span class="s2">&quot;Round id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">round_id</span><span class="p">),</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">id_num</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="n">query</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">match</span><span class="o">.</span><span class="n">id_num</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.save_player" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">save_player</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.save_player" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Saves a Player object to TinyDB.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>player</code></td>
        <td><code>Player</code></td>
        <td><p>Player object to be saved.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>no_db_save</code></td>
        <td><code>bool</code></td>
        <td><p>If the object only needs to be saved in memory, not in db. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">save_player</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">:</span> <span class="n">Player</span><span class="p">,</span> <span class="n">no_db_save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Saves a Player object to TinyDB.</span>

<span class="sd">    Args:</span>
<span class="sd">        player (Player): Player object to be saved.</span>
<span class="sd">        no_db_save (bool, optional): If the object only needs to be saved in memory, not in db. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">players</span><span class="p">[</span><span class="n">player</span><span class="o">.</span><span class="n">id_num</span><span class="p">]</span> <span class="o">=</span> <span class="n">player</span>

    <span class="k">if</span> <span class="n">no_db_save</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">players_table</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;First Name&quot;</span><span class="p">:</span> <span class="n">player</span><span class="o">.</span><span class="n">first_name</span><span class="p">,</span>
            <span class="s2">&quot;Last Name&quot;</span><span class="p">:</span> <span class="n">player</span><span class="o">.</span><span class="n">last_name</span><span class="p">,</span>
            <span class="s2">&quot;DOB&quot;</span><span class="p">:</span> <span class="n">player</span><span class="o">.</span><span class="n">dob</span><span class="p">,</span>
            <span class="s2">&quot;Gender&quot;</span><span class="p">:</span> <span class="n">player</span><span class="o">.</span><span class="n">gender</span><span class="p">,</span>
            <span class="s2">&quot;ELO&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">elo</span><span class="p">),</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">id_num</span><span class="p">),</span>
            <span class="s2">&quot;Is Deleted&quot;</span><span class="p">:</span> <span class="n">player</span><span class="o">.</span><span class="n">is_deleted</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="n">query</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">id_num</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.save_round" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">save_round</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">round_</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.save_round" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Saves a Round object to memory and TinyDB.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>round_</code></td>
        <td><code>Round</code></td>
        <td><p>Round object to be saved. Underscore added because of reserved keyword.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>no_db_save</code></td>
        <td><code>bool</code></td>
        <td><p>If the object only needs to be saved in memory, not in db. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">save_round</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">round_</span><span class="p">:</span> <span class="n">Round</span><span class="p">,</span> <span class="n">no_db_save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Saves a Round object to memory and TinyDB.</span>

<span class="sd">    Args:</span>
<span class="sd">        round_ (Round): Round object to be saved. Underscore added because of reserved keyword.</span>
<span class="sd">        no_db_save (bool, optional): If the object only needs to be saved in memory, not in db. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">tournaments</span><span class="p">[</span><span class="n">round_</span><span class="o">.</span><span class="n">tournament_id</span><span class="p">]</span><span class="o">.</span><span class="n">rounds</span><span class="p">[</span><span class="n">round_</span><span class="o">.</span><span class="n">id_num</span><span class="p">]</span> <span class="o">=</span> <span class="n">round_</span>

    <span class="k">if</span> <span class="n">no_db_save</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">()</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">rounds_table</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;Round number&quot;</span><span class="p">:</span> <span class="n">round_</span><span class="o">.</span><span class="n">round_number</span><span class="p">,</span>
            <span class="s2">&quot;Tournament id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">round_</span><span class="o">.</span><span class="n">tournament_id</span><span class="p">),</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">round_</span><span class="o">.</span><span class="n">id_num</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="n">query</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">round_</span><span class="o">.</span><span class="n">id_num</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.save_tournament" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">save_tournament</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tournament</span><span class="p">,</span> <span class="n">no_db_save</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.save_tournament" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Saves a Tournament object to memory and TinyDB.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tournament</code></td>
        <td><code>Tournament</code></td>
        <td><p>Tournament object to be saved.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>no_db_save</code></td>
        <td><code>bool</code></td>
        <td><p>If the object only needs to be saved in memory, not in db. Defaults to False.</p></td>
        <td><code>False</code></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">save_tournament</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tournament</span><span class="p">:</span> <span class="n">Tournament</span><span class="p">,</span> <span class="n">no_db_save</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Saves a Tournament object to memory and TinyDB.</span>

<span class="sd">    Args:</span>
<span class="sd">        tournament (Tournament): Tournament object to be saved.</span>
<span class="sd">        no_db_save (bool, optional): If the object only needs to be saved in memory, not in db. Defaults to False.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">tournaments</span><span class="p">[</span><span class="n">tournament</span><span class="o">.</span><span class="n">id_num</span><span class="p">]</span> <span class="o">=</span> <span class="n">tournament</span>

    <span class="k">if</span> <span class="n">no_db_save</span><span class="p">:</span>
        <span class="k">return</span>

    <span class="n">query</span> <span class="o">=</span> <span class="n">Query</span><span class="p">()</span>

    <span class="n">players_id</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="n">player</span> <span class="ow">in</span> <span class="n">tournament</span><span class="o">.</span><span class="n">players</span><span class="p">:</span>
        <span class="n">players_id</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">id_num</span><span class="p">)</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">tournaments_table</span><span class="o">.</span><span class="n">upsert</span><span class="p">(</span>
        <span class="p">{</span>
            <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="n">tournament</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
            <span class="s2">&quot;Location&quot;</span><span class="p">:</span> <span class="n">tournament</span><span class="o">.</span><span class="n">location</span><span class="p">,</span>
            <span class="s2">&quot;Date&quot;</span><span class="p">:</span> <span class="n">tournament</span><span class="o">.</span><span class="n">date</span><span class="p">,</span>
            <span class="s2">&quot;Number of rounds&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">tournament</span><span class="o">.</span><span class="n">number_of_rounds</span><span class="p">),</span>
            <span class="s2">&quot;Time Control&quot;</span><span class="p">:</span> <span class="n">tournament</span><span class="o">.</span><span class="n">time_control</span><span class="p">,</span>
            <span class="s2">&quot;Description&quot;</span><span class="p">:</span> <span class="n">tournament</span><span class="o">.</span><span class="n">description</span><span class="p">,</span>
            <span class="s2">&quot;Players&quot;</span><span class="p">:</span> <span class="n">players_id</span><span class="p">,</span>
            <span class="s2">&quot;Leaderboard&quot;</span><span class="p">:</span> <span class="n">tournament</span><span class="o">.</span><span class="n">leaderboard</span><span class="p">,</span>
            <span class="s2">&quot;Is Finished&quot;</span><span class="p">:</span> <span class="n">tournament</span><span class="o">.</span><span class="n">is_finished</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="nb">int</span><span class="p">(</span><span class="n">tournament</span><span class="o">.</span><span class="n">id_num</span><span class="p">),</span>
        <span class="p">},</span>
        <span class="n">query</span><span class="o">.</span><span class="n">id</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">tournament</span><span class="o">.</span><span class="n">id_num</span><span class="p">),</span>
    <span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>



  <div class="doc doc-object doc-method">



<h3 id="controller.database_handler.DatabaseHandler.update_leaderboard" class="doc doc-heading">
<code class="codehilite language-python"><span class="n">update_leaderboard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tournament_id</span><span class="p">,</span> <span class="n">player_id</span><span class="p">,</span> <span class="n">points_earned</span><span class="p">)</span></code>


<a href="#controller.database_handler.DatabaseHandler.update_leaderboard" class="headerlink" title="Permanent link">&para;</a></h3>

    <div class="doc doc-contents ">

      <p>Updates a tournament's leaderboard by adding points to a player.</p>

<p><strong>Parameters:</strong></p>
<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td><code>tournament_id</code></td>
        <td><code>int</code></td>
        <td><p>Tounament's id.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>player_id</code></td>
        <td><code>int</code></td>
        <td><p>Player's id.</p></td>
        <td><em>required</em></td>
      </tr>
      <tr>
        <td><code>points_earned</code></td>
        <td><code>float</code></td>
        <td><p>Points earned by the player.</p></td>
        <td><em>required</em></td>
      </tr>
  </tbody>
</table>
        <details class="quote">
          <summary>Source code in <code>controller/database_handler.py</code></summary>
          <div class="codehilite"><pre><span></span><code><span class="k">def</span> <span class="nf">update_leaderboard</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tournament_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">player_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">points_earned</span><span class="p">:</span> <span class="nb">float</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Updates a tournament&#39;s leaderboard by adding points to a player.</span>

<span class="sd">    Args:</span>
<span class="sd">        tournament_id (int): Tounament&#39;s id.</span>
<span class="sd">        player_id (int): Player&#39;s id.</span>
<span class="sd">        points_earned (float): Points earned by the player.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">tournament</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">tournaments</span><span class="p">[</span><span class="n">tournament_id</span><span class="p">]</span>
    <span class="n">tournament</span><span class="o">.</span><span class="n">leaderboard</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">player_id</span><span class="p">)]</span> <span class="o">+=</span> <span class="n">points_earned</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save_tournament</span><span class="p">(</span><span class="n">tournament</span><span class="o">=</span><span class="n">tournament</span><span class="p">)</span>
</code></pre></div>
        </details>
    </div>

  </div>





  </div>

    </div>

  </div>



  <div class="doc doc-object doc-class">



<h2 id="controller.database_handler.SingletonMeta" class="doc doc-heading">
        <code>SingletonMeta</code>



<a href="#controller.database_handler.SingletonMeta" class="headerlink" title="Permanent link">&para;</a></h2>

    <div class="doc doc-contents ">

      <p>Meta for singleton application. As DataHandler will be used by different modules there is
no need to load the database multiple time.
Singleton was kept simple and is currently not thread safe.</p>




  <div class="doc doc-children">













  </div>

    </div>

  </div>







  </div>

    </div>

  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../database_helper/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Précédent
              </span>
              database_helper.py
            </div>
          </div>
        </a>
      
      
        <a href="../report_handler/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Suivant
              </span>
              report_handler.py
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "translations": {"clipboard.copy": "Copier dans le presse-papier", "clipboard.copied": "Copi\u00e9 dans le presse-papier", "search.config.lang": "fr", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Rechercher", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.7353b375.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@8.4.6/dist/mermaid.min.js"></script>
      
        <script src="../../../js/termynal.js"></script>
      
        <script src="../../../js/custom.js"></script>
      
    
  </body>
</html>